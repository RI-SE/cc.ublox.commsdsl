<?xml version="1.0" encoding="UTF-8"?>
<schema name="ublox">
    <fields>

        <enum name="CfgValKeyId" type="uint32">
            <!-- CFG-BDS -->
            <validValue name="CFG_BDS_USE_PRN_1_TO_5" val = "0x10340014" />

            <!-- CFG-GEOFENCE: -->
            <validValue name="CFG_GEOFENCE_CONFLVL" val = "0x20240011" />
            <validValue name="CFG_GEOFENCE_USE_PIO" val = "0x10240012" />
            <validValue name="CFG_GEOFENCE_PINPOL" val = "0x20240013" />
            <validValue name="CFG_GEOFENCE_PIN" val = "0x20240014" />
            <validValue name="CFG_GEOFENCE_USE_FENCE1" val = "0x10240020" />
            <validValue name="CFG_GEOFENCE_FENCE1_LAT" val = "0x40240021" />
            <validValue name="CFG_GEOFENCE_FENCE1_LON" val = "0x40240022" />
            <validValue name="CFG_GEOFENCE_FENCE1_RAD" val = "0x40240023" />
            <validValue name="CFG_GEOFENCE_USE_FENCE2" val = "0x10240030" />
            <validValue name="CFG_GEOFENCE_FENCE2_LAT" val = "0x40240031" />
            <validValue name="CFG_GEOFENCE_FENCE2_LON" val = "0x40240032" />
            <validValue name="CFG_GEOFENCE_FENCE2_RAD" val = "0x40240033" />
            <validValue name="CFG_GEOFENCE_USE_FENCE3" val = "0x10240040" />
            <validValue name="CFG_GEOFENCE_FENCE3_LAT" val = "0x40240041" />
            <validValue name="CFG_GEOFENCE_FENCE3_LON" val = "0x40240042" />
            <validValue name="CFG_GEOFENCE_FENCE3_RAD" val = "0x40240043" />
            <validValue name="CFG_GEOFENCE_USE_FENCE4" val = "0x10240050" />
            <validValue name="CFG_GEOFENCE_FENCE4_LAT" val = "0x40240051" />
            <validValue name="CFG_GEOFENCE_FENCE4_LON" val = "0x40240052" />
            <validValue name="CFG_GEOFENCE_FENCE4_RAD" val = "0x40240053" />

            <!-- CFG-HW -->
            <validValue name="CFG_HW_ANT_CFG_VOLTCTRL" val = "0x10a3002e" />            
            <validValue name="CFG_HW_ANT_CFG_SHORTDET" val = "0x10a3002f" />
            <validValue name="CFG_HW_ANT_CFG_SHORTDET_POL" val = "0x10a30030" />
            <validValue name="CFG_HW_ANT_CFG_OPENDET" val = "0x10a30031" />
            <validValue name="CFG_HW_ANT_CFG_OPENDET_POL" val = "0x10a30032" />
            <validValue name="CFG_HW_ANT_CFG_PWRDOWN" val = "0x10a30033" />
            <validValue name="CFG_HW_ANT_CFG_PWRDOWN_POL" val = "0x10a30034" />
            <validValue name="CFG_HW_ANT_CFG_RECOVER" val = "0x10a30035" />
            <validValue name="CFG_HW_ANT_SUP_SWITCH_PIN" val = "0x20a30036" />
            <validValue name="CFG_HW_ANT_SUP_SHORT_PIN" val = "0x20a30037" />
            <validValue name="CFG_HW_ANT_SUP_OPEN_PIN" val = "0x20a30038" />
            <validValue name="CFG_HW_ANT_SUP_ENGINE" val = "0x20a30054" />
            <validValue name="CFG_HW_ANT_SUP_SHORT_THR" val = "0x20a30055" />
            <validValue name="CFG_HW_ANT_SUP_OPEN_THR" val = "0x20a30056" />

            <!-- CFG-I2C -->
            <validValue name="CFG_I2C_ADDRESS" val = "0x20510001" />             
            <validValue name="CFG_I2C_EXTENDEDTIMEOUT" val = "0x10510002" />
            <validValue name="CFG_I2C_ENABLED" val = "0x20510003" />
        </enum>

        <int name="CfgValU1" type="uint8" />
        <int name="CfgValU2" type="uint16" />
        <int name="CfgValU4" type="uint32" />
        <int name="CfgValU8" type="uint64" />
        <int name="CfgValL" reuse="CfgValU1" validRange="[0, 1]" />

        <int name="CfgValKey" type="uint32" failOnInvalid="true" displayReadOnly="true" />

        <enum name="CfgValKeyGroup" type="uint8">
            <validValue name="Geofence" val="0x24" />
            <validValue name="Bds" val="0x34" />
            <validValue name="I2c" val="0x51" />
            <validValue name="Hw" val="0xa3" />
        </enum>

        <bitfield name="CfgValKeyFull" forceGen="true">
            <!-- At this moment ignore reserved bits-->
            <int name="id" type="uint16" />
            <ref field="CfgValKeyGroup" name="group" />
            <int name="size" type="uint8" />
        </bitfield>

        <!-- CFG-BDS -->
        <variant name="CfgValBds" displayName="CFG-BDS" displayIdxReadOnlyHidden="true">
            <bundle name="UsePrn1to5" displayName="USE_PRN_1_TO_5">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_BDS_USE_PRN_1_TO_5" defaultValue="CfgValKeyId.CFG_BDS_USE_PRN_1_TO_5" />
                <ref field="CfgValL" name="Val" />
            </bundle>
        </variant>

        <!-- CFG-GEOFENCE: -->
        <variant name="CfgValGeofence" displayName="CFG-GEOFENCE" displayIdxReadOnlyHidden="true">
            <bundle name="Conflvl" displayName="CONFLVL">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_CONFLVL" defaultValue="CfgValKeyId.CFG_GEOFENCE_CONFLVL" />
                <enum name="Val" type="uint8">
                    <validValue name="L000" val="0" />
                    <validValue name="L680" val="1" />
                    <validValue name="L950" val="2" />
                    <validValue name="L997" val="3" />
                    <validValue name="L9999" val="4" />
                    <validValue name="L999999" val="5" />
                </enum>
            </bundle>  
            
            <bundle name="UsePio" displayName="USE_PIO">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_USE_PIO" defaultValue="CfgValKeyId.CFG_GEOFENCE_USE_PIO" />
                <ref field="CfgValL" name="Val" />
            </bundle>              

            <bundle name="Pinpol" displayName="PINPOL">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_PINPOL" defaultValue="CfgValKeyId.CFG_GEOFENCE_PINPOL" />
                <enum name="Val" type="uint8">
                    <validValue name="LOW_IN" val="0" />
                    <validValue name="LOW_OUT" val="1" />
                </enum>
            </bundle>  

            <bundle name="UseFence1" displayName="USE_FENCE1">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_USE_FENCE1" defaultValue="CfgValKeyId.CFG_GEOFENCE_USE_FENCE1" />
                <ref field="CfgValL" name="Val" />
            </bundle>              

            <bundle name="Fence1Lat" displayName="FENCE1_LAT">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_FENCE1_LAT" defaultValue="CfgValKeyId.CFG_GEOFENCE_FENCE1_LAT" />
                <ref field="lat" name="Val" />
            </bundle>              

            <bundle name="Fence1Lon" displayName="FENCE1_LON">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_FENCE1_LON" defaultValue="CfgValKeyId.CFG_GEOFENCE_FENCE1_LON" />
                <ref field="lon" name="Val" />
            </bundle>              

            <bundle name="Fence1Rad" displayName="FENCE1_RAD">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_FENCE1_RAD" defaultValue="CfgValKeyId.CFG_GEOFENCE_FENCE1_RAD" />
                <ref field="GeofenceRadius" name="Val" />
            </bundle>              

            <bundle name="UseFence2" displayName="USE_FENCE2">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_USE_FENCE2" defaultValue="CfgValKeyId.CFG_GEOFENCE_USE_FENCE2" />
                <ref field="CfgValL" name="Val" />
            </bundle>              

            <bundle name="Fence2Lat" displayName="FENCE2_LAT">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_FENCE2_LAT" defaultValue="CfgValKeyId.CFG_GEOFENCE_FENCE2_LAT" />
                <ref field="lat" name="Val" />
            </bundle>              

            <bundle name="Fence2Lon" displayName="FENCE2_LON">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_FENCE2_LON" defaultValue="CfgValKeyId.CFG_GEOFENCE_FENCE2_LON" />
                <ref field="lon" name="Val" />
            </bundle>              

            <bundle name="Fence2Rad" displayName="FENCE2_RAD">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_FENCE2_RAD" defaultValue="CfgValKeyId.CFG_GEOFENCE_FENCE2_RAD" />
                <ref field="GeofenceRadius" name="Val" />
            </bundle>              

            <bundle name="UseFence3" displayName="USE_FENCE3">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_USE_FENCE3" defaultValue="CfgValKeyId.CFG_GEOFENCE_USE_FENCE3" />
                <ref field="CfgValL" name="Val" />
            </bundle>              

            <bundle name="Fence3Lat" displayName="FENCE3_LAT">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_FENCE3_LAT" defaultValue="CfgValKeyId.CFG_GEOFENCE_FENCE3_LAT" />
                <ref field="lat" name="Val" />
            </bundle>              

            <bundle name="Fence3Lon" displayName="FENCE3_LON">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_FENCE3_LON" defaultValue="CfgValKeyId.CFG_GEOFENCE_FENCE3_LON" />
                <ref field="lon" name="Val" />
            </bundle>              

            <bundle name="Fence3Rad" displayName="FENCE3_RAD">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_FENCE3_RAD" defaultValue="CfgValKeyId.CFG_GEOFENCE_FENCE3_RAD" />
                <ref field="GeofenceRadius" name="Val" />
            </bundle>              

            <bundle name="UseFence4" displayName="USE_FENCE4">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_USE_FENCE4" defaultValue="CfgValKeyId.CFG_GEOFENCE_USE_FENCE4" />
                <ref field="CfgValL" name="Val" />
            </bundle>              

            <bundle name="Fence4Lat" displayName="FENCE4_LAT">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_FENCE4_LAT" defaultValue="CfgValKeyId.CFG_GEOFENCE_FENCE4_LAT" />
                <ref field="lat" name="Val" />
            </bundle>              

            <bundle name="Fence4Lon" displayName="FENCE4_LON">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_FENCE4_LON" defaultValue="CfgValKeyId.CFG_GEOFENCE_FENCE4_LON" />
                <ref field="lon" name="Val" />
            </bundle>              

            <bundle name="Fence4Rad" displayName="FENCE4_RAD">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_GEOFENCE_FENCE4_RAD" defaultValue="CfgValKeyId.CFG_GEOFENCE_FENCE4_RAD" />
                <ref field="GeofenceRadius" name="Val" />
            </bundle>  
        </variant>  

        <!-- CFG-HW -->
        <variant name="CfgValHw" displayName="CFG-HW" displayIdxReadOnlyHidden="true">
            <bundle name="AntCfgValctrl" displayName="ANT_CFG_VOLTCTRL">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_HW_ANT_CFG_VOLTCTRL" defaultValue="CfgValKeyId.CFG_HW_ANT_CFG_VOLTCTRL" />
                <ref field="CfgValL" name="Val" />
            </bundle>

            <bundle name="AntCfgShortdet" displayName="ANT_CFG_SHORTDET">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_HW_ANT_CFG_SHORTDET" defaultValue="CfgValKeyId.CFG_HW_ANT_CFG_SHORTDET" />
                <ref field="CfgValL" name="Val" />
            </bundle>    

            <bundle name="AntCfgShortdetPol" displayName="ANT_CFG_SHORTDET_POL">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_HW_ANT_CFG_SHORTDET_POL" defaultValue="CfgValKeyId.CFG_HW_ANT_CFG_SHORTDET_POL" />
                <ref field="CfgValL" name="Val" />
            </bundle>    

            <bundle name="AntCfgOpendet" displayName="ANT_CFG_OPENDET">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_HW_ANT_CFG_OPENDET" defaultValue="CfgValKeyId.CFG_HW_ANT_CFG_OPENDET" />
                <ref field="CfgValL" name="Val" />
            </bundle>       

            <bundle name="AntCfgOpendetPol" displayName="ANT_CFG_OPENDET_POL">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_HW_ANT_CFG_OPENDET_POL" defaultValue="CfgValKeyId.CFG_HW_ANT_CFG_OPENDET_POL" />
                <ref field="CfgValL" name="Val" />
            </bundle>  

            <bundle name="AntCfgPwrdown" displayName="ANT_CFG_PWRDOWN">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_HW_ANT_CFG_PWRDOWN" defaultValue="CfgValKeyId.CFG_HW_ANT_CFG_PWRDOWN" />
                <ref field="CfgValL" name="Val" />
            </bundle>   

            <bundle name="AntCfgPwrdownPol" displayName="ANT_CFG_PWRDOWN_POL">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_HW_ANT_CFG_PWRDOWN_POL" defaultValue="CfgValKeyId.CFG_HW_ANT_CFG_PWRDOWN_POL" />
                <ref field="CfgValL" name="Val" />
            </bundle>  

            <bundle name="AntCfgRecover" displayName="ANT_CFG_RECOVER">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_HW_ANT_CFG_RECOVER" defaultValue="CfgValKeyId.CFG_HW_ANT_CFG_RECOVER" />
                <ref field="CfgValL" name="Val" />
            </bundle>  

            <bundle name="AntSupSwitchPin" displayName="ANT_SUP_SWITCH_PIN">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_HW_ANT_SUP_SWITCH_PIN" defaultValue="CfgValKeyId.CFG_HW_ANT_SUP_SWITCH_PIN" />
                <ref field="CfgValU1" name="Val" />
            </bundle> 

            <bundle name="AntSupShortPin" displayName="ANT_SUP_SHORT_PIN">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_HW_ANT_SUP_SHORT_PIN" defaultValue="CfgValKeyId.CFG_HW_ANT_SUP_SHORT_PIN" />
                <ref field="CfgValU1" name="Val" />
            </bundle>   

            <bundle name="AntSupOpenPin" displayName="ANT_SUP_OPEN_PIN">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_HW_ANT_SUP_OPEN_PIN" defaultValue="CfgValKeyId.CFG_HW_ANT_SUP_OPEN_PIN" />
                <ref field="CfgValU1" name="Val" />
            </bundle>   

            <bundle name="AntSupEngine" displayName="ANT_SUP_ENGINE">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_HW_ANT_SUP_ENGINE" defaultValue="CfgValKeyId.CFG_HW_ANT_SUP_ENGINE" />
                <enum name="Val" type="uint8">
                    <validValue name="EXT" val="0" />
                    <validValue name="MADC" val="1" />
                </enum>
            </bundle>   

            <bundle name="AntSupShortThr" displayName="ANT_SUP_SHORT_THR">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_HW_ANT_SUP_SHORT_THR" defaultValue="CfgValKeyId.CFG_HW_ANT_SUP_SHORT_THR" />
                <ref field="CfgValU1" name="Val" />
            </bundle>    

            <bundle name="AntSupOpenThr" displayName="ANT_SUP_OPEN_THR">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_HW_ANT_SUP_OPEN_THR" defaultValue="CfgValKeyId.CFG_HW_ANT_SUP_OPEN_THR" />
                <ref field="CfgValU1" name="Val" />
            </bundle>                                                                                            
        </variant>    

        <!-- CFG-I2C -->
        <variant name="CfgValI2c" displayName="CFG-I2C" displayIdxReadOnlyHidden="true">
            <bundle name="Address" displayName="ADDRESS">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_I2C_ADDRESS" defaultValue="CfgValKeyId.CFG_I2C_ADDRESS" />
                <ref field="CfgValU1" name="Val" />
            </bundle>

            <bundle name="Extendedtimeout" displayName="EXTENDEDTIMEOUT">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_I2C_EXTENDEDTIMEOUT" defaultValue="CfgValKeyId.CFG_I2C_EXTENDEDTIMEOUT" />
                <ref field="CfgValL" name="Val" />
            </bundle>   

            <bundle name="Enabled" displayName="ENABLED">
                <int reuse="CfgValKey" name="Key" validValue="CfgValKeyId.CFG_I2C_ENABLED" defaultValue="CfgValKeyId.CFG_I2C_ENABLED" />
                <ref field="CfgValL" name="Val" />
            </bundle>
        </variant>                  

        <variant name="CfgValPair" displayName="_" displayIdxReadOnlyHidden="true">
            <ref field="CfgValBds" name="Bds"/>
            <ref field="CfgValGeofence" name="Geofence" />
            <ref field="CfgValHw" name="Hw"/>
            <ref field="CfgValI2c" name="I2c"/>
        </variant>
    </fields>
</schema>
